<!doctype html><html lang="en"><head><title>3D Flight Map</title><style>body{margin:0}</style><script src="//unpkg.com/d3"></script><script src="//unpkg.com/polished@3.5.2/dist/polished.js"></script><script src="//unpkg.com/globe.gl"></script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Raleway:wght@600&display=swap" rel="stylesheet"><script>import Papa from"papaparse";const csv="/static/airport_coords.csv",csvData=Papa.parse(csv,{header:!0}).data;function findAirportCoords(a){return csvData.filter((r=>r.ICAO===a))[0].lat}console.log(findAirportCoords("CYYZ"))</script><script>var time=Math.floor(Date.now()/1e3),start_time=String(time-7200),end_time=String(time);console.log(start_time,end_time);var request=new XMLHttpRequest;request.open("GET","https://opensky-network.org/api/flights/departure?airport=CYYZ&begin=1517227200&end=1517230800",!0),request.onload=function(){console.log("Recieved data: ");var e=JSON.parse(this.response);request.status>=200&&request.status<400?e.forEach((e=>{console.log(e.estArrivalAirport)})):console.log("error")},request.send()</script><script defer="defer" src="bundle.c6d7de5c85a48bc3.js"></script><link href="main.css" rel="stylesheet"></head><body style="overflow-x:hidden"><div id="globeViz"></div><script>var routes=[{startLat:43.6523,startLng:-79.3822,endLat:53.631611,endLng:-113.323975},{startLat:43.6523,startLng:-79.3822,endLat:53.631611,endLng:113.323975}];const w=window.innerWidth,shiftFactor=.4,shiftAmmount=.4*w,globe=Globe()(document.getElementById("globeViz")).globeImageUrl("//unpkg.com/three-globe/example/img/earth-dark.jpg").bumpImageUrl("//unpkg.com/three-globe/example/img/earth-topology.png").backgroundImageUrl("//unpkg.com/three-globe/example/img/night-sky.png").width(w+shiftAmmount).pointOfView({lat:43.6523,lng:-79.3822,altitude:2}).arcsData(routes)</script><div class="text"><div class="title">Live Airport Departures</div></div></body></html>